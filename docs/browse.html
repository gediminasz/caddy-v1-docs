<!DOCTYPE html>

<head>

	<head>
		<title>http.browse - Caddy User Guide</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Archivo+Black|Source+Sans+Pro:200,300,400,400i,600,700,700i,900">
		<link rel="icon" href="/caddy-v1-docs/resources/images/favicon.png">
		<link rel="stylesheet" href="/caddy-v1-docs/resources/css/common.css">
		<link rel="stylesheet" href="/caddy-v1-docs/resources/css/sweetalert2.min.css">
		<script src="/caddy-v1-docs/resources/js/sweetalert2.min.js"></script>
		<script src="/caddy-v1-docs/resources/js/jquery-3.3.1.min.js"></script>
		<script src="/caddy-v1-docs/resources/js/common.js"></script>
		<link rel="stylesheet" href="/caddy-v1-docs/resources/css/docs.css">
	</head>

<body>
	<header>
		<div class="top-bar content">
			<div class="left-links">
				<a href="/"><img src="/caddy-v1-docs/resources/images/caddy-white.png" id="logo" alt="Caddy"></a>
			</div>
			<nav class="right-links links">
				<a href="/caddy-v1-docs/download">Download</a>
				<a href="/caddy-v1-docs/docs">Docs</a>
				<a href="/caddy-v1-docs/stats">Stats</a>
				<a href="https://caddy.community">Forum</a>
				<a href="https://github.com/caddyserver/caddy" id="top-github-link">GitHub</a>
				<a href="/caddy-v1-docs/account/login">Log In</a>
			</nav>
		</div>
		<a href="/" id="v2-banner">
			This page is about Caddy 1 and will go away soon because Caddy 2 is now available. Click here for Caddy 2.
		</a>
		<div class="content">
			<h1>User Guide</h1>
		</div>
	</header>

	<nav class="main">
		<div class="content">
			<a href="/caddy-v1-docs/docs" class="current">Documentation</a>
			<a href="/caddy-v1-docs/tutorial">Tutorials</a>
			<a href="https://github.com/caddyserver/examples" class="external-link">Examples</a>
		</div>
	</nav>


	<div class="content-container">
		<nav class="side">
			<!-- TODO: Consider using Maven Pro or Muli as font... -->
			<h3>Using Caddy</h3>
			<ul>
				<li><a href="/caddy-v1-docs/tutorial">Getting Started &rarr;</a></li>
				<li><a href="/caddy-v1-docs/docs/cli">Command Line Interface</a></li>
				<li><a href="/caddy-v1-docs/docs/caddyfile">Caddyfile Syntax</a></li>
				<li><a href="/caddy-v1-docs/docs/telemetry">Telemetry</a></li>
			</ul>

			<h3>HTTP Server</h3>
			<ul>
				<li><a href="/caddy-v1-docs/docs/http-caddyfile">HTTP Caddyfile</a></li>
				<li><a href="/caddy-v1-docs/docs/automatic-https">Automatic HTTPS</a></li>
				<li><a href="/caddy-v1-docs/docs/mitm-detection">MITM Detection</a></li>
				<li><a href="/caddy-v1-docs/docs/placeholders">Placeholders</a></li>
				<li><a href="/caddy-v1-docs/docs/template-actions">Template Actions</a></li>
			</ul>

			<h4>Standard HTTP Directives</h4>
			<ul>
				<li><a href="/caddy-v1-docs/docs/basicauth">basicauth</a></li>
				<li><a href="/caddy-v1-docs/docs/bind">bind</a></li>
				<li><a href="/caddy-v1-docs/docs/browse">browse</a></li>
				<li><a href="/caddy-v1-docs/docs/errors">errors</a></li>
				<li><a href="/caddy-v1-docs/docs/expvar">expvar</a></li>
				<li><a href="/caddy-v1-docs/docs/ext">ext</a></li>
				<li><a href="/caddy-v1-docs/docs/fastcgi">fastcgi</a></li>
				<li><a href="/caddy-v1-docs/docs/gzip">gzip</a></li>
				<li><a href="/caddy-v1-docs/docs/header">header</a></li>
				<li><a href="/caddy-v1-docs/docs/import">import</a></li>
				<li><a href="/caddy-v1-docs/docs/index">index</a></li>
				<li><a href="/caddy-v1-docs/docs/internal">internal</a></li>
				<li><a href="/caddy-v1-docs/docs/limits">limits</a></li>
				<li><a href="/caddy-v1-docs/docs/log">log</a></li>
				<li><a href="/caddy-v1-docs/docs/markdown">markdown</a></li>
				<li><a href="/caddy-v1-docs/docs/mime">mime</a></li>
				<li><a href="/caddy-v1-docs/docs/on">on</a></li>
				<li><a href="/caddy-v1-docs/docs/pprof">pprof</a></li>
				<li><a href="/caddy-v1-docs/docs/proxy">proxy</a></li>
				<li><a href="/caddy-v1-docs/docs/push">push</a></li>
				<li><a href="/caddy-v1-docs/docs/redir">redir</a></li>
				<li><a href="/caddy-v1-docs/docs/request_id">request_id</a></li>
				<li><a href="/caddy-v1-docs/docs/rewrite">rewrite</a></li>
				<li><a href="/caddy-v1-docs/docs/root">root</a></li>
				<li><a href="/caddy-v1-docs/docs/status">status</a></li>
				<li><a href="/caddy-v1-docs/docs/templates">templates</a></li>
				<li><a href="/caddy-v1-docs/docs/timeouts">timeouts</a></li>
				<li><a href="/caddy-v1-docs/docs/tls">tls</a></li>
				<li><a href="/caddy-v1-docs/docs/websocket">websocket</a></li>
			</ul>

			<h3>Plugins</h3>
			<ul>
				<li><a href="https://github.com/caddyserver/caddy/wiki" class="external-link">Writing a Caddy Plugin</a></li>
			</ul>


			<h4>Caddyfile Loaders</h4>
			<ul>
				<li><a href="/caddy-v1-docs/docs/docker">docker</a></li>
			</ul>

			<h4>DNS Providers</h4>
			<ul>
				<li><a href="/caddy-v1-docs/docs/tls.dns.auroradns">tls.dns.auroradns</a></li>
				<li><a href="/caddy-v1-docs/docs/tls.dns.azure">tls.dns.azure</a></li>
				<li><a href="/caddy-v1-docs/docs/tls.dns.cloudflare">tls.dns.cloudflare</a></li>
				<li><a href="/caddy-v1-docs/docs/tls.dns.cloudxns">tls.dns.cloudxns</a></li>
				<li><a href="/caddy-v1-docs/docs/tls.dns.digitalocean">tls.dns.digitalocean</a></li>
				<li><a href="/caddy-v1-docs/docs/tls.dns.dnsimple">tls.dns.dnsimple</a></li>
				<li><a href="/caddy-v1-docs/docs/tls.dns.dnsmadeeasy">tls.dns.dnsmadeeasy</a></li>
				<li><a href="/caddy-v1-docs/docs/tls.dns.dnspod">tls.dns.dnspod</a></li>
				<li><a href="/caddy-v1-docs/docs/tls.dns.duckdns">tls.dns.duckdns</a></li>
				<li><a href="/caddy-v1-docs/docs/tls.dns.dyn">tls.dns.dyn</a></li>
				<li><a href="/caddy-v1-docs/docs/tls.dns.exoscale">tls.dns.exoscale</a></li>
				<li><a href="/caddy-v1-docs/docs/tls.dns.gandi">tls.dns.gandi</a></li>
				<li><a href="/caddy-v1-docs/docs/tls.dns.gandiv5">tls.dns.gandiv5</a></li>
				<li><a href="/caddy-v1-docs/docs/tls.dns.godaddy">tls.dns.godaddy</a></li>
				<li><a href="/caddy-v1-docs/docs/tls.dns.googlecloud">tls.dns.googlecloud</a></li>
				<li><a href="/caddy-v1-docs/docs/tls.dns.lightsail">tls.dns.lightsail</a></li>
				<li><a href="/caddy-v1-docs/docs/tls.dns.linode">tls.dns.linode</a></li>
				<li><a href="/caddy-v1-docs/docs/tls.dns.namecheap">tls.dns.namecheap</a></li>
				<li><a href="/caddy-v1-docs/docs/tls.dns.namedotcom">tls.dns.namedotcom</a></li>
				<li><a href="/caddy-v1-docs/docs/tls.dns.namesilo">tls.dns.namesilo</a></li>
				<li><a href="/caddy-v1-docs/docs/tls.dns.ns1">tls.dns.ns1</a></li>
				<li><a href="/caddy-v1-docs/docs/tls.dns.otc">tls.dns.otc</a></li>
				<li><a href="/caddy-v1-docs/docs/tls.dns.ovh">tls.dns.ovh</a></li>
				<li><a href="/caddy-v1-docs/docs/tls.dns.powerdns">tls.dns.powerdns</a></li>
				<li><a href="/caddy-v1-docs/docs/tls.dns.rackspace">tls.dns.rackspace</a></li>
				<li><a href="/caddy-v1-docs/docs/tls.dns.rfc2136">tls.dns.rfc2136</a></li>
				<li><a href="/caddy-v1-docs/docs/tls.dns.route53">tls.dns.route53</a></li>
				<li><a href="/caddy-v1-docs/docs/tls.dns.vultr">tls.dns.vultr</a></li>
			</ul>

			<h4>Directives/Middleware</h4>
			<ul>
				<li><a href="/caddy-v1-docs/docs/dyndns">dyndns</a></li>
				<li><a href="/caddy-v1-docs/docs/http.authz">http.authz</a></li>
				<li><a href="/caddy-v1-docs/docs/http.awses">http.awses</a></li>
				<li><a href="/caddy-v1-docs/docs/http.awslambda">http.awslambda</a></li>
				<li><a href="/caddy-v1-docs/docs/http.cache">http.cache</a></li>
				<li><a href="/caddy-v1-docs/docs/http.cgi">http.cgi</a></li>
				<li><a href="/caddy-v1-docs/docs/http.cors">http.cors</a></li>
				<li><a href="/caddy-v1-docs/docs/http.datadog">http.datadog</a></li>
				<li><a href="/caddy-v1-docs/docs/http.expires">http.expires</a></li>
				<li><a href="/caddy-v1-docs/docs/http.filter">http.filter</a></li>
				<li><a href="/caddy-v1-docs/docs/http.forwardproxy">http.forwardproxy</a></li>
				<li><a href="/caddy-v1-docs/docs/http.geoip">http.geoip</a></li>
				<li><a href="/caddy-v1-docs/docs/http.git">http.git</a></li>
				<li><a href="/caddy-v1-docs/docs/http.gomods">http.gomods</a></li>
				<li><a href="/caddy-v1-docs/docs/http.gopkg">http.gopkg</a></li>
				<li><a href="/caddy-v1-docs/docs/http.grpc">http.grpc</a></li>
				<li><a href="/caddy-v1-docs/docs/http.ipfilter">http.ipfilter</a></li>
				<li><a href="/caddy-v1-docs/docs/http.jwt">http.jwt</a></li>
				<li><a href="/caddy-v1-docs/docs/http.locale">http.locale</a></li>
				<li><a href="/caddy-v1-docs/docs/http.login">http.login</a></li>
				<li><a href="/caddy-v1-docs/docs/http.mailout">http.mailout</a></li>
				<li><a href="/caddy-v1-docs/docs/http.minify">http.minify</a></li>
				<li><a href="/caddy-v1-docs/docs/http.nobots">http.nobots</a></li>
				<li><a href="/caddy-v1-docs/docs/http.permission">http.permission</a></li>
				<li><a href="/caddy-v1-docs/docs/http.prometheus">http.prometheus</a></li>
				<li><a href="/caddy-v1-docs/docs/http.proxyprotocol">http.proxyprotocol</a></li>
				<li><a href="/caddy-v1-docs/docs/http.pubsub">http.pubsub</a></li>
				<li><a href="/caddy-v1-docs/docs/http.ratelimit">http.ratelimit</a></li>
				<li><a href="/caddy-v1-docs/docs/http.realip">http.realip</a></li>
				<li><a href="/caddy-v1-docs/docs/http.reauth">http.reauth</a></li>
				<li><a href="/caddy-v1-docs/docs/http.recaptcha">http.recaptcha</a></li>
				<li><a href="/caddy-v1-docs/docs/http.restic">http.restic</a></li>
				<li><a href="/caddy-v1-docs/docs/http.s3browser">http.s3browser</a></li>
				<li><a href="/caddy-v1-docs/docs/http.supervisor">http.supervisor</a></li>
				<li><a href="/caddy-v1-docs/docs/http.torproxy">http.torproxy</a></li>
				<li><a href="/caddy-v1-docs/docs/http.webdav">http.webdav</a></li>
				<li><a href="/caddy-v1-docs/docs/http.webp">http.webp</a></li>
			</ul>

			<h4>Event Hooks</h4>
			<ul>
				<li><a href="/caddy-v1-docs/docs/hook.service">hook.service</a></li>
			</ul>

			<h4>Server Types</h4>
			<ul>
				<li><a href="/caddy-v1-docs/docs/dns">dns</a></li>
				<li><a href="/caddy-v1-docs/docs/net">net</a></li>
				<li><a href="/caddy-v1-docs/docs/supervisor">supervisor</a></li>
			</ul>

			<h4>TLS Clustering</h4>
			<ul>
				<li><a href="/caddy-v1-docs/docs/consul">consul</a></li>
				<li><a href="/caddy-v1-docs/docs/redis">redis</a></li>
			</ul>

			</ul>
		</nav>

		<article>
			<h2>http.browse</h2>

			<p>browse enables directory browsing within the specified base path. It displays a file listing for directories which don't have an index file in them. In other server software, this is often called indexing.</p>

			<p>By default, file listings are disabled and a request to a directory path (where no index file is present) will result in a 404 for obscurity reasons.</p>

			<p>This middleware may set cookies to preserve UI preferences if the user changes them.</p>

			<h3 id="syntax">Syntax</h3>

			<p><code class="block"><span class="cf-dir">browse</span> <span class="cf-arg">[<i>path</i> [<i>tplfile</i>]]</span></code></p>

			<ul>
				<li><strong>path</strong> is the base path to match. Any directories in this base path become browsable.</li>
				<li><strong>tplfile</strong> is the location of a template file to use.</li>
			</ul>

			<p>A default template will be used if no template file is specified. Without any arguments, browsing is enabled on the entire site (path=/).</p>

			<h3 id="template-format">Template Format</h3>

			<p>A template is simply an HTML file with <em>actions</em> in it. The actions are parsed and executed to display dynamic content. This directive supports <a href="/caddy-v1-docs/docs/template-actions">Caddy's template actions</a> as well as some additional actions specific to the browse directive. You may use template actions that render <a href="https://github.com/caddyserver/caddy/blob/060ab92d295ba9dd8e34115c92557d5eff5896ff/middleware/browse/browse.go#L41-L118">this struct type</a> (notice that some helper methods are available).</p>

			<p>Here is a very simple example template:</p>

			<pre><code class="language-html">&lt;html&gt;
	&lt;head&gt;
		&lt;title&gt;&#123;&#123;html .Name&#125;&#125;&lt;/title&gt;
	&lt;/head&gt;
	&lt;body&gt;
		&#123;&#123;if .CanGoUp&#125;&#125;&lt;a href=&quot;..&quot;&gt;Up one level&lt;/a&gt;&lt;br&gt;&#123;&#123;end&#125;&#125;
		&lt;h1&gt;&#123;&#123;.Path&#125;&#125;&lt;/h1&gt;
		&#123;&#123;range .Items&#125;&#125;
		&lt;a href=&quot;&#123;&#123;html .URL&#125;&#125;&quot;&gt;&#123;&#123;html .Name&#125;&#125;&lt;/a&gt;&lt;br&gt;
		&#123;&#123;end&#125;&#125;
	&lt;/body&gt;
&lt;/html&gt; </code></pre>

			<p>... but the default template is nicer.</p>

			<p>Notice that the name and URL are sanitized for safe rendering in a browser. Templates are presumed trusted, so if your file names are not trusted, be sure they are escaped for use in HTML documents.</p>

			<h3 id="json-response">JSON Response</h3>

			<p>You can ask for a JSON representation instead of a browse page by having <strong>application/json</strong> in your <strong>Accept</strong> header:</p>

			<pre><code>$ curl -H &quot;Accept: application/json&quot; 'localhost:2015/?limit=1'
[{&quot;IsDir&quot;:true,&quot;Name&quot;:&quot;.git&quot;,&quot;Size&quot;:476,&quot;URL&quot;:&quot;.git/&quot;,&quot;ModTime&quot;:&quot;2015-09-11T03:20:09+03:00&quot;,&quot;Mode&quot;:2147484141}]</code></pre>

			<p>The above example demonstrates how to ask for JSON, as well as how to limit the number of entries that we want via a query called <strong>limit</strong>. To yield the whole listing, omit the limit query.</p>

			<h3 id="examples">Examples</h3>

			<p>Allow directory listings in all folders that don't have an index file:</p>

			<p><code class="block"><span class="cf-dir">browse</span></code></p>

			<p>Show photo album contents (in /photos) via a custom template:</p>

			<p><code class="block"><span class="cf-dir">browse</span> <span class="cf-arg">/photos ../photo_album.tpl</span></code></p>


			<div class="help-box">
				<h3>Need help with this feature?</h3>
				<p>
					Join us in the <a href="https://caddy.community">Caddy forum</a>, where the open source community gathers to share their knowledge.
				</p>

				<h3>Does your company use Caddy?</h3>
				<p>
					<a href="/caddy-v1-docs/products/licenses">Purchase a commercial license</a> to use Caddy with your business and for basic email support, along with other benefits!
				</p>
			</div>
		</article>
	</div>
	<footer>
		<div class="nav-container">
			<div class="flex content">
				<div class="col">
					<img src="/caddy-v1-docs/resources/images/caddy-white.png" class="logo" alt="Caddy Web Server">
					<br>
					A project by <a href="https://twitter.com/mholt6">Matthew Holt</a>
					<br>
					as part of <a href="https://www.lightcodelabs.com">Light Code Labs</a>
					<br>
					in partnership with <a href="https://www.ardanlabs.com">Ardan Labs</a>
				</div>
				<nav>
					<h6>The Project</h6>
					<a href="/caddy-v1-docs/download">Download</a>
					<a href="https://github.com/caddyserver/caddy">GitHub</a>
					<a href="/caddy-v1-docs/docs">Docs</a>
					<a href="/caddy-v1-docs/brand">Brand Kit</a>
				</nav>
				<nav>
					<h6>Account</h6>
					<a href="/caddy-v1-docs/account/login">Log In</a>
					<a href="/caddy-v1-docs/account/register">Sign Up</a>
					<a href="/caddy-v1-docs/legal/terms-of-service">Terms of Service</a>
				</nav>
				<nav>
					<h6>Community</h6>
					<a href="https://caddy.community/">Forum</a>
					<a href="https://github.com/caddyserver/caddy">GitHub</a>
					<a href="https://twitter.com/caddyserver">Twitter</a>
					<a href="/caddy-v1-docs/blog/">Blog</a>
				</nav>
				<div class="col">
					<h6>Hey, You.</h6>
					Be notified of new releases!
					<form id="footer-signup-form">
						<input id="footer-email" name="email" type="email" placeholder="> email address" required value="">
						<button class="subscribe" type="submit">Subscribe</button>
					</form>
				</div>
			</div>
			<div class="copyright">
				&copy; 2015-2020 Light Code Labs. All rights reserved.<br>Caddy&reg; is a registered trademark of Light Code Labs, LLC.
			</div>
		</div>
	</footer>

</body>
</head>
